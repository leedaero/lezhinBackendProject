ğŸ“š API ì •ì˜
---
1. ì‘í’ˆ ì¡°íšŒ ì´ë ¥ API 
    - ì‘í’ˆë³„ë¡œ ì–¸ì œ, ì–´ë–¤ ì‚¬ìš©ìê°€ ì¡°íšŒí–ˆëŠ”ì§€ ì´ë ¥ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
    - íŠ¹ì •ì‚¬ìš©ìëŠ” ì—†ì´ ëª¨ë“  ì‚¬ìš©ìê°€ ì–´ë–¤ ì‘í’ˆì„ ì¡°íšŒí–ˆëŠ”ì§€ ì´ë ¥ì´ ë‚˜ì˜µë‹ˆë‹¤.
2. ì¸ê¸° ì‘í’ˆ ì¡°íšŒ API
    - ì‚¬ìš©ìê°€ ê°€ì¥ ë§ì´ ì¡°íšŒí•œ ì‘í’ˆ ìƒìœ„ 10ê°œë¥¼  ì¡°íšŒí•©ë‹ˆë‹¤.
3. ì‘í’ˆ êµ¬ë§¤ API
    - ì‘í’ˆì— ê°ê° ì„¤ì •ëœ ìœ ë£Œ/ë¬´ë£Œ ì‘í’ˆ ê¸°ì¤€ìœ¼ë¡œ ì£¼ë¬¸ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
    - ì‘í’ˆì´ ì´ë²¤íŠ¸ ê¸°ê°„ì— ë¬´ë£Œ ì´ë²¤íŠ¸ ê¸°ê°„ì— í•´ë‹¹í•˜ë©´ ë¨¼ì €ì²´í¬í•˜ì—¬ ì£¼ë¬¸ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
4. êµ¬ë§¤ ì¸ê¸°ì‘í’ˆ ì¡°íšŒ
    - ì‚¬ìš©ìê°€ ê°€ì¥ ë§ì´ êµ¬ë§¤í•œ ì‘í’ˆ ìƒìœ„ 10ê°œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
5. ì‘í’ˆ ë° ì´ë ¥ ì‚­ì œ API
    - íŠ¹ì • ì‘í’ˆê³¼ í•¨ê»˜ ì¡°íšŒ ì´ë ¥ë„ ëª¨ë‘ ì‚­ì œí•©ë‹ˆë‹¤.
6. ì„ íƒì‚¬í•­ êµ¬í˜„
   - ì‚¬ìš©ì ì¸ì¦ êµ¬í˜„
     - ì‚¬ìš©ì ë“±ë¡ API
       - ì‚¬ìš©ì ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
       - ì¸ì¦ jwt í† í° ë°œí–‰ ë©ë‹ˆë‹¤.
     - ì‚¬ìš©ì ë¡œê·¸ì¸ API
       - ì‚¬ìš©ì ë¡œê·¸ì¸ ì§„í–‰ì„ í•©ë‹ˆë‹¤. 
       - ì¸ì¦ jwt í† í° ë°œí–‰ ë©ë‹ˆë‹¤.
     - ì‚¬ìš©ì ì¸ì¦ì„ í™œìš©í•œ ì£¼ë¬¸ API
       - ì•ì—ì„œ ë°œí–‰í•œ ì¸ì¦ ê²€ì¦í›„ ì£¼ë¬¸ì„ ì§„í–‰ í•©ë‹ˆë‹¤.
   
 ğŸš€ API ì‹¤í–‰ ë°©ë²•
---

1. í”„ë¡œì íŠ¸ í´ë¡ :
   ```bash
   git clone https://github.com/leedaero/lezhinBackendProject.git
2. IDE ì„¤ì •
   - ëŒ€ì¤‘ì ìœ¼ë¡œ ì“°ëŠ” ì¸í…”ë¦¬ì œì´ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ëŠ”ì ì„ ë¨¼ì € ë§ì”€ë“œë¦½ë‹ˆë‹¤.
   
   1. IDE Anonotation Processors ì„¤ì •
   
   ![ì„¤ì •1](https://github.com/leedaero/lezhinBackendProject/blob/main/IDE_%EC%9D%B8%ED%85%94%EB%A6%AC%EC%A0%9C%EC%9D%B4%20%EC%85%8B%ED%8C%85_%EC%BF%A8%EB%9E%98%EC%8A%A4%ED%8C%8C%EC%9D%BC%20%EC%83%9D%EC%84%B1%EA%B4%80%EB%A0%A8%20%EC%84%A4%EC%A0%95.png?raw=trueg)
   
      
   2. IDE ë¹Œë“œíˆ´ ê·¸ë˜ë“¤ ì„¤ì •

   ![ì„¤ì •2](https://github.com/leedaero/lezhinBackendProject/blob/main/IDE_%EC%9D%B8%ED%85%94%EB%A6%AC%EC%A0%9C%EC%9D%B4_%EC%85%8B%ED%8C%85_%EA%B7%B8%EB%9E%98%EB%93%A4%20%EC%84%A4%EC%A0%95.png?raw=true)

   3. ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì„ ìœ„í•œ ì„¤ì • edit Configurations

   ![ì„¤ì •3](https://github.com/leedaero/lezhinBackendProject/blob/main/IDE_%EC%9D%B8%ED%85%94%EB%A6%AC%EC%A0%9C%EC%9D%B4%20%ED%99%98%EA%B2%BD%EC%84%A4%EC%A0%951.png?raw=true)

   4. ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì„ Active profiles local ì„¤ì •

   ![ì„¤ì •4](https://github.com/leedaero/lezhinBackendProject/blob/main/IDE_%EC%9D%B8%ED%85%94%EB%A6%AC%EC%A0%9C%EC%9D%B4%20%ED%99%98%EA%B2%BD%EC%84%A4%EC%A0%952.png?raw=true)
   5. DB ì—°ê²°ì„¤ì • application-local.yml 
   - ë¡œì»¬  url 192.168.0.34 ì£¼ì†Œë§Œ ë©”ì¼ë¡œ ì „ë‹¬ë“œë¦° url ë³€ê²½ í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.
      ```yaml
      spring:
         datasource:
         url: jdbc:mysql://192.168.0.34:3306/lezhin?useSSL=false&serverTimezone=UTC
         username: xxxxx
         password: xxxxx
         driver-class-name: com.mysql.cj.jdbc.Driver
         hikari:
            minimum-idle: 5
            maximum-pool-size: 10
            idle-timeout: 30000
            max-lifetime: 1800000
            connection-timeout: 30000
            pool-name: HikariPool
   6. API ëª…ì„¸ëœ swagger-ui ì ‘ì† 
      - url :  http://localhost:8080/swagger-ui/index.html
        - Swagger UI API ëª©ë¡
        ![ui](https://github.com/leedaero/lezhinBackendProject/blob/main/%EC%8A%A4%EC%9B%A8%EA%B1%B0%20UI%20API%20%EB%AA%A9%EB%A1%9D.png?raw=true)
        
        - ì‚¬ìš©ì ì¸ì¦ í† í° ì‚¬ìš©ë²• 1
        ![í† í°ì‚¬ìš©ë²• 1](https://github.com/leedaero/lezhinBackendProject/blob/main/%EC%9D%B8%EC%A6%9D%EA%B4%80%EB%A0%A8%20%ED%86%A0%ED%81%B0%20%EC%9E%85%EB%A0%A51.png?raw=true)
        - ì‚¬ìš©ì ì¸ì¦ í† í° ì‚¬ìš©ë²• 2
          ![í† í°ì‚¬ìš©ë²• 2](https://github.com/leedaero/lezhinBackendProject/blob/main/%EC%9D%B8%EC%A6%9D%EA%B4%80%EB%A0%A8%20%ED%86%A0%ED%81%B0%20%EC%9E%85%EB%A0%A52.png?raw=true)
        - ì‚¬ìš©ì ì¸ì¦ í† í° ì‚¬ìš©ë²• 3
          ![í† í°ì‚¬ìš©ë²• 3](https://github.com/leedaero/lezhinBackendProject/blob/main/%EC%9D%B8%EC%A6%9D%EA%B4%80%EB%A0%A8%20%ED%86%A0%ED%81%B0%20%EC%9E%85%EB%A0%A53.png?raw=true)
        - ì‚¬ìš©ì ì¸ì¦ í† í° ì‚¬ìš©ë²• 4
          ![í† í°ì‚¬ìš©ë²• 4](https://github.com/leedaero/lezhinBackendProject/blob/main/%EC%9D%B8%EC%A6%9D%EA%B4%80%EB%A0%A8%20%ED%86%A0%ED%81%B0%20%EC%9E%85%EB%A0%A54.png?raw=true)
      7. API ìƒì„¸
         1. ì‘í’ˆ ì¡°íšŒ ì´ë ¥ API
         
         - request
            ```bash
           curl -X GET 'http://localhost:8080/v1/artworks/history'
            ```
          - response
             ``` json
               {
               "code": 200,
               "msg": "Request Success",
               "data": [
               {
               "artworkCode": "AR001001",
               "artworkName": "ë°”í€´ë©˜í„°ë¦¬",
               "viewDate": "2024-12-03T08:46:22",
               "userId": "daerolee",
               "userName": "ì´ëŒ€ë¡œ"
               },
               {
               "artworkCode": "AR001001",
               "artworkName": "ë°”í€´ë©˜í„°ë¦¬",
               "viewDate": "2024-12-03T08:46:52",
               "userId": "daerolee",
               "userName": "ì´ëŒ€ë¡œ"
               }, ....
              ```
      2. ì¸ê¸° ì‘í’ˆ ì¡°íšŒ API
          - request
             ```bash
            curl -X GET 'http://localhost:8080/v1/artworks/best'
             ```
          - response
              ``` json
                {
                "code": 200,
                "msg": "Request Success",
                "data": [
                {
                "artworkCode": "AR001001",
                "artworkName": "ë°”í€´ë©˜í„°ë¦¬",
                "viewDate": "2024-12-03T08:46:22",
                "userId": "daerolee",
                "userName": "ì´ëŒ€ë¡œ"
                },
                {
                "artworkCode": "AR001001",
                "artworkName": "ë°”í€´ë©˜í„°ë¦¬",
                "viewDate": "2024-12-03T08:46:52",
                "userId": "daerolee",
                "userName": "ì´ëŒ€ë¡œ"
                }, ....
               ```
      3. ì‘í’ˆ êµ¬ë§¤ API 
            - request (ë¬´ë£Œì‘í’ˆ êµ¬ë§¤ ìš”ì²­) 
              ```bash
               curl -X POST   'http://localhost:8080/v1/orders' \-H 'accept: */*' \-H 'Content-Type: application/json' \-d '{"artworkCode": "AR001002","userId": "lezhin01"}'
              ```
         - response (ë¬´ë£Œì‘í’ˆ êµ¬ë§¤ ì‘ë‹µ)
            ``` json       
                { 
                  "code": 200,"msg": "Order Success!",       
                  "data": {
                  "artworkCode": "AR001002",
                  "userId": "AR001002",
                  "orderNo": "OR2024120716083151ba7f20",
                  "orderPrice": 0,
                  "paymentCode": "PM001",
                  "orderDate": "2024-12-07T16:08:31.701464",
                  "freeYn": "N"
                    }
                }
             ```
      4. êµ¬ë§¤ ì¸ê¸°ì‘í’ˆ ì¡°íšŒ
         - request
            ```bash
             curl -X GET 'http://localhost:8080/v1/orders/best'
           ```
         - response
           ```bash
           {
              "code": 200,
              "msg": "Request Success",
              "data": [
               {
                "artworkCode": "AR001006",
                "artworkName": "ì†Œê¿‰ì¹œêµ¬ê°€ ìê¾¸ ê´´ë¡­í˜€!",
                "orderCount": 19
              }.....
           ```
      5. ì‘í’ˆ ë° ì´ë ¥ ì‚­ì œ API
         - request
           ```bash
           curl -X DELETE 'http://localhost:8080/v1/artworks/AR001014'
           ```
         - response
           ```bash
           {
            "code": 200,
            "msg": "Data Delete Success"
           }
           ```
           

ğŸ“Œ ê°œë°œë‚´ìš©
---
1. ê°œë°œí™˜ê²½
    - **ì–¸ì–´** : Java 23
    - **í”„ë ˆì„ì›Œí¬** : Spring boot 3.4
    - **ë°ì´í„°ë² ì´ìŠ¤** : Mysql 8.0.13
    - **IDE** : IntelliJ
    - **ì¸ì¦** : JWT ( ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ì‚¬ìš©)
    - **ORM** : JPA , QueryDsl
2. í”„ë¡œì íŠ¸ êµ¬ì¡°
   ![í”„ë¡œì íŠ¸ êµ¬ì¡°](https://github.com/leedaero/lezhinBackendProject/blob/main/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%20%EA%B5%AC%EC%A1%B0.png?raw=true)
3. í…Œì´ë¸” ì„¤ê³„ êµ¬ì¡°
   ![í…Œì´ë¸” êµ¬ì¡°](https://github.com/leedaero/lezhinBackendProject/blob/main/%ED%85%8C%EC%9D%B4%EB%B8%94%20%EC%84%A4%EA%B3%84ERD.png?raw=true)
    - t_artwork_mst : ì‘í’ˆ í…Œì´ë¸”
      - ì‘í’ˆ ì „ë°˜ ì ì¸ ë‚´ìš©ì„ ê´€ë¦¬ í•©ë‹ˆë‹¤. 
    - t_artwork_view_history : ì‘í’ˆ ì´ë ¥ í…Œì´ë¸”
      - ì‘í’ˆì˜ ìœ ì €ì˜ ì¡°íšŒí•œ ì´ë ¥ì„ ê´€ë¦¬ í•©ë‹ˆë‹¤.
    - t_event_mst : ì´ë²¤íŠ¸ í…Œì´ë¸”
      - ì´ë²¤íŠ¸ ë‚´ì—­ì„ ê´€ë¦¬ í•˜ê³  ê¸°ê°„ì„ ì„¤ì •í•œ ë§Œí¼ ì‘í””ì˜ ìœ ë£Œ/ë¬´ë£Œë¥¼ ì „í™˜ì´ ê°€ëŠ¥ í•©ë‹ˆë‹¤.
    - t_event_artwork_mapping : ì´ë²¤íŠ¸ ë§¤í•‘ í…Œì´ë¸”
      - ì´ë²¤íŠ¸ ì‘í’ˆì„ ì—°ê²°í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì‘í’ˆì½”ë“œ, ì´ë²¤íŠ¸ ì½”ë“œë¥¼ ë“±ë¡/ì‚­ì œë¥¼ í†µí•´ íŠ¹ì •ì‘í’ˆë§Œ ì´ë²¤íŠ¸ ì œì–´ë¥¼ í•©ë‹ˆë‹¤.
    - t_order_mst : ì‘í’ˆ êµ¬ë§¤í…Œì´ë¸”
      - ì‚¬ìš©ìê°€ êµ¬ë§¤í•œ ë‚´ì—­ì„ ì €ì¥í•©ë‹ˆë‹¤. 
    - t_user_mst : ì‚¬ìš©ì í…Œì´ë¸”
      - ì‚¬ìš©ì ë° ì¸ì¦ì„ ê´€ë¦¬ í•©ë‹ˆë‹¤.

4. ì½”ë“œ ì°¸ê³ ì‚¬í•­
   - ì„ íƒì‚¬í•­ìœ¼ë¡œ ì‚¬ìš©ì¸ì¦ êµ¬í˜„
     - @VerifyHeader ë‹¬ì•„ì£¼ë©´ í•´ë” ì •ë³´ì—ì„œ jwt ì‚¬ìš©í•˜ì—¬ ì¸ì¦í•©ë‹ˆë‹¤.
     -   ì‚¬ìš©ì ì¸ì¦ì„ ìœ„í•œ ì‚¬ìš©ì ë“±ë¡ API
         - request
           ```bash
           curl -X POST 'http://localhost:8080/v1/external/auth/register'
            -H 'accept: */*' \
            -H 'Content-Type: application/json' \
            -d '{
              "userId": "daero53",
              "userName": "ì´ëŒ€ë¡œ3",
              "userPassword": "123456",
             "emailAddress": "daero53@naver.com",
            "phoneNumber": "01000000000"
            }'
           ```
         - response
           ```bash
           {
             "code": 200,
             "msg": "Request Success",
             "data": {
                 "token": "eyJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6IuydtOuMgOuhnDMiLCJzdWIiOiLsnbTrjIDroZwzIiwiaWF0IjoxNzMzNTc1NDU5LCJleHAiOjE3MzM2NjE4NTl9.FMXAGhywmHaSr73-ygDOjB1rrMJVh0qmjB87wAEs2BM"
            }
           }
           ```
     -   ì‚¬ìš©ì ì¸ì¦ì„ ìœ„í•œ ë¡œê·¸ì¸ ì¸ì¦ API
       - request
         ```bash
         curl -X POST 'http://localhost:8080/v1/external/auth/register'
          -H 'accept: */*' \
          -H 'Content-Type: application/json' \
          -d '{
            "userId": "daero53",
            "userPassword": "123456"
          }'
         ```
       - response
         ```bash
         {
           "code": 200,
           "msg": "Request Success",
           "data": {
             "token": "eyJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6IuydtOuMgOuhnDMiLCJzdWIiOiLsnbTrjIDroZwzIiwiaWF0IjoxNzMzNTc1NzY0LCJleHAiOjE3MzM2NjIxNjR9.d0o-EGj9EY8qQ-Er6Lh_M6U6zxpRELKyWNGjjmTn5Wg"
          }
         }
         ```
     -   @VerifyHeader ì–´ë…¸í…Œì´ì…˜ ë‹¬ì•„ì£¼ë©´ í•´ë” ì •ë³´ì—ì„œ jwt ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìë¥¼ ì¸ì¦í•©ë‹ˆë‹¤.
     -  ì•ì—ì„œ ë°œí–‰í•œ í† í°ì„ ë„£ì–´ ì£¼ë¬¸ì„ ì§„í–‰í•©ë‹ˆë‹¤.
       - request
        ```bash
        curl -X POST 'http://localhost:8080/v1/external/orders'\
        -H 'accept: */*' \
        -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6IuydtOuMgOuhnDMiLCJzdWIiOiLsnbTrjIDroZwzIiwiaWF0IjoxNzMzNTc1NzY0LCJleHAiOjE3MzM2NjIxNjR9.d0o-EGj9EY8qQ-Er6Lh_M6U6zxpRELKyWNGjjmTn5Wg' \
        -H 'Content-Type: application/json' \
        -d '{
            "artworkCode": "AR001007",
            "userId": "daero53"
        }'
     ```
        - response
        ```bash
        {
           "code": 200,
           "msg": "Order Success!",
           "data": {
           "artworkCode": "AR001007",
           "userId": "AR001007",
           "orderNo": "OR20241207215130f460d2c0",
           "orderPrice": 300,
           "paymentCode": "PM001",
           "orderDate": "2024-12-07T21:51:30.846606",
           "freeYn": "Y"
            }
      }
     ```


ğŸ“Œ ê³ ë ¤í–ˆë˜ ìƒí™©ê³¼ í•´ê²° ë°©ì•ˆ
---
1. ë¯¼ê°ì •ë³´ì— ëŒ€í•œ ì²˜ë¦¬ ë°©ì•ˆ
    - ë¬¸ì œ : DBì—°ê²° í•˜ëŠ” ì‚¬ìš©í•˜ëŠ” ì ‘ì†ì •ë³´ë¥¼ ê¹ƒ í¼ë¸”ë¦­í•œ ê³³ì— ë…¸ì¶œë©ë‹ˆë‹¤.
    - í•´ê²° :
      - Config Server (Spring Cloud Config) í™œìš©
      - Config ServerëŠ” ì™¸ë¶€ì— ìˆëŠ” ì¤‘ì•™ ì§‘ì¤‘í˜• í™˜ê²½ ì„¤ì • ì„œë²„ë¡œ, ëª¨ë“  ì„œë¹„ìŠ¤ì˜ ì„¤ì • íŒŒì¼ì„ í•œê³³ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. ì‚¬ìš©ì ì¸ì¦ êµ¬í˜„ì„ ê°œì„ í•˜ëŠ” ë°©ì•ˆ
    - ë¬¸ì œ : í† í° íƒˆì·¨ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.
    - í•´ê²° : 
      - ì„œë²„ì— ì‚¬ìš©ì ì •ë³´ë¥¼ ì„œë²„ ë©”ëª¨ë¦¬ ë˜ëŠ” DBì— ì„¸ì…˜ìœ¼ë¡œ ì €ì¥í•˜ê³ , ì‚¬ìš©ìì—ê²ŒëŠ” ì„¸ì…˜ IDë§Œ ì¿ í‚¤ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
      
